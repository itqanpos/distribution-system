<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† - Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ²ÙŠØ¹</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --info: #1abc9c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #f5f6fa;
        }

        .inventory-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .inventory-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .inventory-stat {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-top: 5px solid;
            transition: all 0.3s;
        }

        .inventory-stat:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .inventory-stat.total { border-color: var(--primary); }
        .inventory-stat.low { border-color: var(--danger); }
        .inventory-stat.expiring { border-color: var(--warning); }
        .inventory-stat.categories { border-color: var(--info); }

        .inventory-stat h3 {
            font-size: 28px;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .inventory-stat p {
            color: #7f8c8d;
            font-size: 14px;
        }

        .category-filter {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 8px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            color: #555;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .category-btn:hover {
            border-color: var(--secondary);
            color: var(--secondary);
        }

        .category-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-color: var(--secondary);
        }

        .product-card.low-stock {
            border-color: var(--danger);
            background: linear-gradient(to right, white, rgba(231, 76, 60, 0.05));
        }

        .product-card.expiring {
            border-color: var(--warning);
            background: linear-gradient(to right, white, rgba(243, 156, 18, 0.05));
        }

        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-low { background: rgba(231, 76, 60, 0.1); color: var(--danger); }
        .badge-expiring { background: rgba(243, 156, 18, 0.1); color: var(--warning); }
        .badge-new { background: rgba(46, 204, 113, 0.1); color: var(--success); }

        .product-image {
            width: 100%;
            height: 150px;
            background: linear-gradient(45deg, #f5f7fa, #c3cfe2);
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #7f8c8d;
        }

        .product-info h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 16px;
            height: 40px;
            overflow: hidden;
        }

        .product-category {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .product-stock {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .stock-info h4 {
            font-size: 14px;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stock-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 5px;
        }

        .stock-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 1s ease-out;
        }

        .stock-fill.high { background: var(--success); }
        .stock-fill.medium { background: var(--warning); }
        .stock-fill.low { background: var(--danger); }

        .product-price {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            margin: 15px 0;
        }

        .product-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .product-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            transition: all 0.3s;
        }

        .product-btn.edit { background: rgba(52, 152, 219, 0.1); color: var(--secondary); }
        .product-btn.stock { background: rgba(46, 204, 113, 0.1); color: var(--success); }
        .product-btn.details { background: rgba(155, 89, 182, 0.1); color: #9b59b6; }

        .product-btn:hover {
            transform: translateY(-2px);
        }

        .expiry-warning {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(to right, rgba(243, 156, 18, 0.1), transparent);
            border-right: 4px solid var(--warning);
            border-radius: 8px;
        }

        .warning-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(243, 156, 18, 0.2);
        }

        .warning-item:last-child {
            border-bottom: none;
        }

        .batch-info {
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .stock-movement {
            margin-top: 30px;
        }

        .movement-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .movement-table th {
            background: var(--primary);
            color: white;
            padding: 12px;
            text-align: right;
        }

        .movement-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        .movement-in { color: var(--success); font-weight: bold; }
        .movement-out { color: var(--danger); font-weight: bold; }

        .quick-actions {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .quick-action-btn {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: white;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }

        .quick-action-btn.add {
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
        }

        .quick-action-btn.import {
            background: linear-gradient(135deg, var(--secondary), #2980b9);
            color: white;
        }

        .quick-action-btn.export {
            background: linear-gradient(135deg, var(--warning), #e67e22);
            color: white;
        }

        .quick-action-btn.count {
            background: linear-gradient(135deg, var(--info), #16a085);
            color: white;
        }

        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .quick-actions {
                flex-direction: column;
            }
            
            .quick-action-btn {
                min-width: 100%;
            }
            
            .category-filter {
                justify-content: center;
            }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- Ù†ÙØ³ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù…Ù† dashboard.html -->
    
    <main class="main-content">
        <div class="page-header">
            <div class="page-title">
                <i class="fas fa-boxes"></i>
                <h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h1>
            </div>
            <div class="page-actions">
                <button class="btn btn-success" onclick="showAddProductModal()">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
                </button>
                <button class="btn btn-primary" onclick="showInventoryReport()">
                    <i class="fas fa-file-export"></i> ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
                </button>
            </div>
        </div>

        <div class="inventory-container">
            <div class="inventory-stats">
                <div class="inventory-stat total">
                    <h3 id="totalProducts">1,024</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
                </div>
                <div class="inventory-stat low">
                    <h3 id="lowStockCount">42</h3>
                    <p>Ù…Ù†ØªØ¬Ø§Øª Ù‚Ù„ÙŠÙ„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</p>
                </div>
                <div class="inventory-stat expiring">
                    <h3 id="expiringCount">18</h3>
                    <p>Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</p>
                </div>
                <div class="inventory-stat categories">
                    <h3 id="categoriesCount">12</h3>
                    <p>ÙØ¦Ø© Ù…Ù†ØªØ¬</p>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn add" onclick="showAddProductModal()">
                    <i class="fas fa-plus"></i>
                    Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
                </button>
                <button class="quick-action-btn import" onclick="importProducts()">
                    <i class="fas fa-file-import"></i>
                    Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù†ØªØ¬Ø§Øª
                </button>
                <button class="quick-action-btn export" onclick="exportInventory()">
                    <i class="fas fa-file-export"></i>
                    ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
                </button>
                <button class="quick-action-btn count" onclick="startStockCount()">
                    <i class="fas fa-clipboard-check"></i>
                    Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
                </button>
            </div>

            <div class="filter-bar">
                <div class="filter-item">
                    <label>Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</label>
                    <input type="text" id="searchProduct" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø£Ùˆ Ø§Ù„Ø±Ù…Ø²">
                </div>
                <div class="filter-item">
                    <label>ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨</label>
                    <select id="sortProducts">
                        <option value="name">Ø§Ù„Ø§Ø³Ù…</option>
                        <option value="stock">Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</option>
                        <option value="price">Ø§Ù„Ø³Ø¹Ø±</option>
                        <option value="sales">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</label>
                    <select id="filterStock">
                        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                        <option value="low">Ù‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</option>
                        <option value="normal">Ø·Ø¨ÙŠØ¹ÙŠ</option>
                        <option value="high">ÙƒØ¨ÙŠØ±</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button class="btn btn-primary" onclick="applyProductFilters()">
                        <i class="fas fa-filter"></i> ØªØ·Ø¨ÙŠÙ‚
                    </button>
                    <button class="btn" onclick="resetProductFilters()">
                        <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                    </button>
                </div>
            </div>

            <div class="category-filter">
                <button class="category-btn active" onclick="filterByCategory('all')">Ø§Ù„ÙƒÙ„</button>
                <button class="category-btn" onclick="filterByCategory('food')">Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©</button>
                <button class="category-btn" onclick="filterByCategory('canned')">Ù…Ø¹Ù„Ø¨Ø§Øª</button>
                <button class="category-btn" onclick="filterByCategory('drinks')">Ù…Ø´Ø±ÙˆØ¨Ø§Øª</button>
                <button class="category-btn" onclick="filterByCategory('dairy')">Ø£Ù„Ø¨Ø§Ù†</button>
                <button class="category-btn" onclick="filterByCategory('grains')">Ø­Ø¨ÙˆØ¨</button>
                <button class="category-btn" onclick="filterByCategory('spices')">ØªÙˆØ§Ø¨Ù„</button>
            </div>

            <div class="products-grid" id="productsGrid">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
            </div>

            <div class="expiry-warning">
                <h4><i class="fas fa-exclamation-triangle"></i> ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</h4>
                <div id="expiryWarnings">
                    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
                </div>
            </div>

            <div class="stock-movement">
                <h3><i class="fas fa-exchange-alt"></i> Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„ÙŠÙˆÙ…</h3>
                <table class="movement-table">
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                            <th>Ø§Ù„Ø­Ø±ÙƒØ©</th>
                            <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                            <th>Ø§Ù„ÙˆÙ‚Øª</th>
                            <th>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                        </tr>
                    </thead>
                    <tbody id="stockMovement">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-box"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
                <button class="close-modal" onclick="closeAddProductModal()">Ã—</button>
            </div>
            
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
                <input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
            </div>
            
            <div class="form-row" style="display: flex; gap: 15px; margin-bottom: 20px;">
                <div class="form-group" style="flex: 1;">
                    <label>Ø§Ù„Ø±Ù…Ø²</label>
                    <input type="text" id="productCode" placeholder="PROD-001">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</label>
                    <input type="text" id="productBarcode" placeholder="123456789012">
                </div>
            </div>
            
            <div class="form-group">
                <label>Ø§Ù„ÙØ¦Ø©</label>
                <select id="productCategory">
                    <option value="">Ø§Ø®ØªØ± ÙØ¦Ø©</option>
                    <option value="food">Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©</option>
                    <option value="canned">Ù…Ø¹Ù„Ø¨Ø§Øª</option>
                    <option value="drinks">Ù…Ø´Ø±ÙˆØ¨Ø§Øª</option>
                    <option value="dairy">Ø£Ù„Ø¨Ø§Ù†</option>
                    <option value="grains">Ø­Ø¨ÙˆØ¨</option>
                    <option value="spices">ØªÙˆØ§Ø¨Ù„</option>
                    <option value="other">Ø£Ø®Ø±Ù‰</option>
                </select>
            </div>
            
            <div class="form-row" style="display: flex; gap: 15px; margin-bottom: 20px;">
                <div class="form-group" style="flex: 1;">
                    <label>Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡</label>
                    <input type="number" id="purchasePrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</label>
                    <input type="number" id="sellingPrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹">
                </div>
            </div>
            
            <div class="form-row" style="display: flex; gap: 15px; margin-bottom: 20px;">
                <div class="form-group" style="flex: 1;">
                    <label>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
                    <input type="number" id="currentQuantity" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰</label>
                    <input type="number" id="minQuantity" placeholder="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±">
                </div>
            </div>
            
            <div class="form-group">
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</label>
                <input type="date" id="expiryDate">
            </div>
            
            <div class="form-group">
                <label>Ø§Ù„ÙˆØ­Ø¯Ø©</label>
                <select id="productUnit">
                    <option value="piece">Ù‚Ø·Ø¹Ø©</option>
                    <option value="kg">ÙƒÙŠÙ„Ùˆ</option>
                    <option value="gram">Ø¬Ø±Ø§Ù…</option>
                    <option value="liter">Ù„ØªØ±</option>
                    <option value="box">ÙƒØ±ØªÙˆÙ†</option>
                    <option value="pack">Ø¹Ù„Ø¨Ø©</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Ø§Ù„Ù…ÙˆØ±Ø¯</label>
                <select id="productSupplier">
                    <option value="">Ø§Ø®ØªØ± Ù…ÙˆØ±Ø¯</option>
                    <option value="1">Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£ØºØ°ÙŠØ©</option>
                    <option value="2">Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª</option>
                    <option value="3">Ù…ØµÙ†Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                <textarea id="productNotes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬"></textarea>
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-success" style="flex: 1;" onclick="saveProduct()">
                    <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬
                </button>
                <button class="btn" style="flex: 1;" onclick="closeAddProductModal()">
                    <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                </button>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        const productsData = [
            {
                id: 1,
                name: "Ø£Ø±Ø² Ø¨Ø³Ù…ØªÙŠ Ù‡Ù†Ø¯ÙŠ",
                code: "RICE-001",
                barcode: "123456789012",
                category: "grains",
                purchasePrice: 15,
                sellingPrice: 25,
                quantity: 150,
                minQuantity: 50,
                unit: "kg",
                expiryDate: "2024-12-31",
                supplier: "Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£ØºØ°ÙŠØ©",
                sales: 1200,
                status: "normal",
                badge: null
            },
            {
                id: 2,
                name: "Ø³ÙƒØ± Ø£Ø¨ÙŠØ¶ Ù†Ø§Ø¹Ù…",
                code: "SUGAR-001",
                barcode: "123456789013",
                category: "food",
                purchasePrice: 10,
                sellingPrice: 18,
                quantity: 20,
                minQuantity: 30,
                unit: "kg",
                expiryDate: "2025-06-30",
                supplier: "Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£ØºØ°ÙŠØ©",
                sales: 800,
                status: "low",
                badge: "low"
            },
            {
                id: 3,
                name: "Ø²ÙŠØª Ø°Ø±Ø© ØµØ§ÙÙŠ",
                code: "OIL-001",
                barcode: "123456789014",
                category: "food",
                purchasePrice: 35,
                sellingPrice: 50,
                quantity: 80,
                minQuantity: 40,
                unit: "liter",
                expiryDate: "2024-03-15",
                supplier: "Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª",
                sales: 600,
                status: "expiring",
                badge: "expiring"
            },
            {
                id: 4,
                name: "Ù…Ø¹Ù„Ø¨Ø§Øª Ø·Ù…Ø§Ø·Ù…",
                code: "CAN-001",
                barcode: "123456789015",
                category: "canned",
                purchasePrice: 8,
                sellingPrice: 15,
                quantity: 200,
                minQuantity: 100,
                unit: "can",
                expiryDate: "2024-08-20",
                supplier: "Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª",
                sales: 400,
                status: "normal",
                badge: null
            },
            {
                id: 5,
                name: "Ù…Ø§Ø¡ Ù…Ø¹Ø¯Ù†ÙŠ",
                code: "WATER-001",
                barcode: "123456789016",
                category: "drinks",
                purchasePrice: 3,
                sellingPrice: 6,
                quantity: 500,
                minQuantity: 200,
                unit: "bottle",
                expiryDate: "2025-01-31",
                supplier: "Ù…ØµÙ†Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª",
                sales: 1500,
                status: "normal",
                badge: null
            },
            {
                id: 6,
                name: "Ø­Ù„ÙŠØ¨ Ø·Ø§Ø²Ø¬",
                code: "MILK-001",
                barcode: "123456789017",
                category: "dairy",
                purchasePrice: 12,
                sellingPrice: 20,
                quantity: 45,
                minQuantity: 30,
                unit: "liter",
                expiryDate: "2024-01-25",
                supplier: "Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£ØºØ°ÙŠØ©",
                sales: 300,
                status: "expiring",
                badge: "expiring"
            },
            {
                id: 7,
                name: "Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠØ©",
                code: "COFFEE-001",
                barcode: "123456789018",
                category: "food",
                purchasePrice: 40,
                sellingPrice: 70,
                quantity: 25,
                minQuantity: 20,
                unit: "kg",
                expiryDate: "2024-10-15",
                supplier: "Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£ØºØ°ÙŠØ©",
                sales: 200,
                status: "low",
                badge: "low"
            },
            {
                id: 8,
                name: "Ø¨Ù‡Ø§Ø±Ø§Øª Ù…Ø´ÙƒÙ„Ø©",
                code: "SPICE-001",
                barcode: "123456789019",
                category: "spices",
                purchasePrice: 15,
                sellingPrice: 30,
                quantity: 180,
                minQuantity: 50,
                unit: "gram",
                expiryDate: "2024-09-30",
                supplier: "Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£ØºØ°ÙŠØ©",
                sales: 350,
                status: "normal",
                badge: null
            }
        ];

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        document.addEventListener('DOMContentLoaded', function() {
            loadProductsData();
            loadExpiryWarnings();
            loadStockMovement();
            updateInventoryStats();
        });

        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function loadProductsData() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';
            
            productsData.forEach(product => {
                const stockPercentage = (product.quantity / (product.minQuantity * 3)) * 100;
                let stockClass = 'high';
                if (stockPercentage < 30) stockClass = 'low';
                else if (stockPercentage < 60) stockClass = 'medium';
                
                const categoryNames = {
                    'food': 'Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©',
                    'canned': 'Ù…Ø¹Ù„Ø¨Ø§Øª',
                    'drinks': 'Ù…Ø´Ø±ÙˆØ¨Ø§Øª',
                    'dairy': 'Ø£Ù„Ø¨Ø§Ù†',
                    'grains': 'Ø­Ø¨ÙˆØ¨',
                    'spices': 'ØªÙˆØ§Ø¨Ù„'
                };
                
                const categoryIcons = {
                    'food': 'fa-utensils',
                    'canned': 'fa-can',
                    'drinks': 'fa-wine-bottle',
                    'dairy': 'fa-cow',
                    'grains': 'fa-wheat-awn',
                    'spices': 'fa-mortar-pestle'
                };
                
                const cardClass = product.badge ? product.badge + '-stock' : '';
                const badgeHTML = product.badge ? 
                    `<div class="product-badge badge-${product.badge}">
                        <i class="fas fa-${product.badge === 'low' ? 'exclamation-triangle' : 'clock'}"></i>
                        ${product.badge === 'low' ? 'Ù‚Ù„ÙŠÙ„' : 'ÙŠÙ†ØªÙ‡ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹'}
                    </div>` : '';
                
                productsGrid.innerHTML += `
                    <div class="product-card ${cardClass}">
                        ${badgeHTML}
                        
                        <div class="product-image">
                            <i class="fas ${categoryIcons[product.category] || 'fa-box'}"></i>
                        </div>
                        
                        <div class="product-info">
                            <h3>${product.name}</h3>
                            <div class="product-category">
                                <i class="fas ${categoryIcons[product.category] || 'fa-tag'}"></i>
                                ${categoryNames[product.category] || 'Ø£Ø®Ø±Ù‰'}
                            </div>
                        </div>
                        
                        <div class="product-stock">
                            <div class="stock-info">
                                <h4>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: ${product.quantity} ${product.unit}</h4>
                                <div class="stock-bar">
                                    <div class="stock-fill ${stockClass}" style="width: ${Math.min(stockPercentage, 100)}%"></div>
                                </div>
                            </div>
                            <div style="text-align: left;">
                                <small style="color: #7f8c8d;">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰: ${product.minQuantity}</small>
                            </div>
                        </div>
                        
                        <div class="product-price">
                            ${product.sellingPrice.toLocaleString()} Ø¬
                            <small style="font-size: 12px; color: #7f8c8d; display: block;">
                                Ø§Ù„Ø´Ø±Ø§Ø¡: ${product.purchasePrice.toLocaleString()} Ø¬
                            </small>
                        </div>
                        
                        <div class="product-actions">
                            <button class="product-btn edit" onclick="editProduct(${product.id})">
                                <i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„
                            </button>
                            <button class="product-btn stock" onclick="adjustStock(${product.id})">
                                <i class="fas fa-boxes"></i> Ù…Ø®Ø²ÙˆÙ†
                            </button>
                            <button class="product-btn details" onclick="showProductDetails(${product.id})">
                                <i class="fas fa-info-circle"></i> ØªÙØ§ØµÙŠÙ„
                            </button>
                        </div>
                    </div>
                `;
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        function updateInventoryStats() {
            const totalProducts = productsData.length;
            const lowStockCount = productsData.filter(p => p.badge === 'low').length;
            const expiringCount = productsData.filter(p => p.badge === 'expiring').length;
            const categoriesCount = new Set(productsData.map(p => p.category)).size;
            
            document.getElementById('totalProducts').textContent = totalProducts;
            document.getElementById('lowStockCount').textContent = lowStockCount;
            document.getElementById('expiringCount').textContent = expiringCount;
            document.getElementById('categoriesCount').textContent = categoriesCount;
        }

        // ØªØ­Ù…ÙŠÙ„ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
        function loadExpiryWarnings() {
            const warningsContainer = document.getElementById('expiryWarnings');
            warningsContainer.innerHTML = '';
            
            const expiringProducts = productsData.filter(p => p.badge === 'expiring').slice(0, 5);
            
            if (expiringProducts.length === 0) {
                warningsContainer.innerHTML = '<p style="text-align: center; color: #7f8c8d;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</p>';
                return;
            }
            
            expiringProducts.forEach(product => {
                const expiryDate = new Date(product.expiryDate);
                const today = new Date();
                const diffTime = expiryDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                warningsContainer.innerHTML += `
                    <div class="warning-item">
                        <div>
                            <strong>${product.name}</strong>
                            <div class="batch-info">ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ ${diffDays} ÙŠÙˆÙ… | Ø§Ù„ÙƒÙ…ÙŠØ©: ${product.quantity} ${product.unit}</div>
                        </div>
                        <div>
                            <button class="btn btn-sm" onclick="handleExpiringProduct(${product.id})" style="font-size: 12px;">
                                <i class="fas fa-bullhorn"></i> ØªÙ†Ø¨ÙŠÙ‡
                            </button>
                        </div>
                    </div>
                `;
            });
        }

        // ØªØ­Ù…ÙŠÙ„ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        function loadStockMovement() {
            const movementContainer = document.getElementById('stockMovement');
            movementContainer.innerHTML = '';
            
            const movements = [
                { product: "Ø£Ø±Ø² Ø¨Ø³Ù…ØªÙŠ Ù‡Ù†Ø¯ÙŠ", type: "out", quantity: 5, time: "10:30 Øµ", user: "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯" },
                { product: "Ø³ÙƒØ± Ø£Ø¨ÙŠØ¶ Ù†Ø§Ø¹Ù…", type: "in", quantity: 50, time: "09:15 Øµ", user: "Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹" },
                { product: "Ø²ÙŠØª Ø°Ø±Ø© ØµØ§ÙÙŠ", type: "out", quantity: 12, time: "11:45 Øµ", user: "Ø®Ø§Ù„Ø¯ Ø¹Ù…Ø±Ùˆ" },
                { product: "Ù…Ø§Ø¡ Ù…Ø¹Ø¯Ù†ÙŠ", type: "out", quantity: 24, time: "08:20 Øµ", user: "ÙˆÙ„ÙŠØ¯ Ø­Ø³Ù†" },
                { product: "Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠØ©", type: "in", quantity: 10, time: "14:30 Ù…", user: "Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹" }
            ];
            
            movements.forEach(movement => {
                const typeClass = movement.type === 'in' ? 'movement-in' : 'movement-out';
                const typeIcon = movement.type === 'in' ? 'fa-arrow-down' : 'fa-arrow-up';
                const typeText = movement.type === 'in' ? 'Ø¥Ø¯Ø®Ø§Ù„' : 'Ø¥Ø®Ø±Ø§Ø¬';
                
                movementContainer.innerHTML += `
                    <tr>
                        <td>${movement.product}</td>
                        <td class="${typeClass}"><i class="fas ${typeIcon}"></i> ${typeText}</td>
                        <td>${movement.quantity}</td>
                        <td>${movement.time}</td>
                        <td>${movement.user}</td>
                    </tr>
                `;
            });
        }

        // ØªØ·Ø¨ÙŠÙ‚ ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function applyProductFilters() {
            const searchTerm = document.getElementById('searchProduct').value.toLowerCase();
            const sortBy = document.getElementById('sortProducts').value;
            const stockFilter = document.getElementById('filterStock').value;
            
            let filteredProducts = productsData;
            
            // ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø­Ø«
            if (searchTerm) {
                filteredProducts = filteredProducts.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.code.toLowerCase().includes(searchTerm)
                );
            }
            
            // ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
            if (stockFilter) {
                filteredProducts = filteredProducts.filter(product => {
                    const stockPercentage = (product.quantity / (product.minQuantity * 3)) * 100;
                    if (stockFilter === 'low') return stockPercentage < 30;
                    if (stockFilter === 'normal') return stockPercentage >= 30 && stockPercentage < 60;
                    if (stockFilter === 'high') return stockPercentage >= 60;
                    return true;
                });
            }
            
            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            filteredProducts.sort((a, b) => {
                switch(sortBy) {
                    case 'name':
                        return a.name.localeCompare(b.name, 'ar');
                    case 'stock':
                        return b.quantity - a.quantity;
                    case 'price':
                        return b.sellingPrice - a.sellingPrice;
                    case 'sales':
                        return b.sales - a.sales;
                    default:
                        return 0;
                }
            });
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ÙÙ„ØªØ±Ø©
            alert(`ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${filteredProducts.length} Ù…Ù†ØªØ¬`);
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±
        function resetProductFilters() {
            document.getElementById('searchProduct').value = '';
            document.getElementById('sortProducts').value = 'name';
            document.getElementById('filterStock').value = '';
            loadProductsData();
        }

        // ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
        function filterByCategory(category) {
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ¦Ø§Øª
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            let filteredProducts = productsData;
            
            if (category !== 'all') {
                filteredProducts = productsData.filter(product => product.category === category);
            }
            
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';
            
            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <i class="fas fa-box-open" style="font-size: 48px; color: #ddd; margin-bottom: 15px;"></i>
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©</p>
                    </div>
                `;
                return;
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙÙ„ØªØ±Ø©
            loadProductsData();
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
        function showAddProductModal() {
            document.getElementById('addProductModal').style.display = 'flex';
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
        function closeAddProductModal() {
            document.getElementById('addProductModal').style.display = 'none';
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('productName').value = '';
            document.getElementById('productCode').value = '';
            document.getElementById('productBarcode').value = '';
            document.getElementById('productCategory').value = '';
            document.getElementById('purchasePrice').value = '';
            document.getElementById('sellingPrice').value = '';
            document.getElementById('currentQuantity').value = '';
            document.getElementById('minQuantity').value = '';
            document.getElementById('expiryDate').value = '';
            document.getElementById('productUnit').value = 'piece';
            document.getElementById('productSupplier').value = '';
            document.getElementById('productNotes').value = '';
        }

        // Ø­ÙØ¸ Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
        function saveProduct() {
            const name = document.getElementById('productName').value;
            const code = document.getElementById('productCode').value;
            const category = document.getElementById('productCategory').value;
            const purchasePrice = parseFloat(document.getElementById('purchasePrice').value);
            const sellingPrice = parseFloat(document.getElementById('sellingPrice').value);
            const quantity = parseInt(document.getElementById('currentQuantity').value);
            const minQuantity = parseInt(document.getElementById('minQuantity').value);
            
            if (!name || !code || !category || !purchasePrice || !sellingPrice || !quantity || !minQuantity) {
                alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ¯ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬
            let badge = null;
            const stockPercentage = (quantity / (minQuantity * 3)) * 100;
            if (stockPercentage < 30) badge = 'low';
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
            const expiryDate = document.getElementById('expiryDate').value;
            if (expiryDate) {
                const expiry = new Date(expiryDate);
                const today = new Date();
                const diffDays = Math.ceil((expiry - today) / (1000 * 60 * 60 * 24));
                if (diffDays <= 30) badge = 'expiring';
            }
            
            const newProduct = {
                id: productsData.length + 1,
                name: name,
                code: code,
                barcode: document.getElementById('productBarcode').value || '123456789000',
                category: category,
                purchasePrice: purchasePrice,
                sellingPrice: sellingPrice,
                quantity: quantity,
                minQuantity: minQuantity,
                unit: document.getElementById('productUnit').value,
                expiryDate: expiryDate || '2024-12-31',
                supplier: document.getElementById('productSupplier').value || 'Ù…ÙˆØ±Ø¯ Ø¹Ø§Ù…',
                sales: 0,
                status: 'normal',
                badge: badge
            };
            
            productsData.push(newProduct);
            loadProductsData();
            updateInventoryStats();
            loadExpiryWarnings();
            closeAddProductModal();
            
            alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ "${name}" Ø¨Ù†Ø¬Ø§Ø­!`);
        }

        // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬
        function editProduct(productId) {
            const product = productsData.find(p => p.id === productId);
            alert(`ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬: ${product.name}\n\nØ³ÙŠØªÙ… ÙØªØ­ ØµÙØ­Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…`);
        }

        // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        function adjustStock(productId) {
            const product = productsData.find(p => p.id === productId);
            const adjustment = prompt(`ØªØ¹Ø¯ÙŠÙ„ Ù…Ø®Ø²ÙˆÙ† ${product.name}\n\nØ§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ: ${product.quantity} ${product.unit}\n\nØ£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø³ØªØ®Ø¯Ù… - Ù„Ù„Ù†Ù‚Øµ):`, '0');
            
            if (adjustment !== null && !isNaN(adjustment)) {
                const adjustmentNum = parseInt(adjustment);
                productsData.find(p => p.id === productId).quantity += adjustmentNum;
                
                loadProductsData();
                updateInventoryStats();
                loadExpiryWarnings();
                
                alert(`ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ù…Ø®Ø²ÙˆÙ† ${product.name}\nØ§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯: ${product.quantity + adjustmentNum} ${product.unit}`);
            }
        }

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
        function showProductDetails(productId) {
            const product = productsData.find(p => p.id === productId);
            
            const detailsHTML = `
                <div style="padding: 20px;">
                    <h3>${product.name}</h3>
                    <p><strong>Ø§Ù„Ø±Ù…Ø²:</strong> ${product.code}</p>
                    <p><strong>Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯:</strong> ${product.barcode}</p>
                    <p><strong>Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡:</strong> ${product.purchasePrice.toLocaleString()} Ø¬</p>
                    <p><strong>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹:</strong> ${product.sellingPrice.toLocaleString()} Ø¬</p>
                    <p><strong>Ø§Ù„Ù‡Ø§Ù…Ø´:</strong> ${(product.sellingPrice - product.purchasePrice).toLocaleString()} Ø¬</p>
                    <p><strong>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†:</strong> ${product.quantity} ${product.unit}</p>
                    <p><strong>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰:</strong> ${product.minQuantity} ${product.unit}</p>
                    <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©:</strong> ${product.expiryDate}</p>
                    <p><strong>Ø§Ù„Ù…ÙˆØ±Ø¯:</strong> ${product.supplier}</p>
                    <p><strong>Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:</strong> ${product.sales.toLocaleString()} ÙˆØ­Ø¯Ø©</p>
                </div>
            `;
            
            alert(detailsHTML);
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
        function handleExpiringProduct(productId) {
            const product = productsData.find(p => p.id === productId);
            const action = confirm(`Ø§Ù„Ù…Ù†ØªØ¬: ${product.name}\nÙŠÙ†ØªÙ‡ÙŠ ØµÙ„Ø§Ø­ÙŠØªÙ‡ Ù‚Ø±ÙŠØ¨Ø§Ù‹\n\nÙ‡Ù„ ØªØ±ÙŠØ¯:\n1. ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† Ù„ØªØ³ÙˆÙŠÙ‚Ù‡\n2. Ø¥Ø±Ø¬Ø§Ø¹Ù‡ Ù„Ù„Ù…ÙˆØ±Ø¯\n3. ØªØºÙŠÙŠØ± Ø³Ø¹Ø±Ù‡ Ù„Ù„Ø¨ÙŠØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹`);
            
            if (action) {
                alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø³Ø±Ø¹Ø©');
            }
        }

        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù†ØªØ¬Ø§Øª
        function importProducts() {
            alert('Ø®Ø§ØµÙŠØ© Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª\nÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ù…Ù„Ù Excel\nØ³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…');
        }

        // ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        function exportInventory() {
            const exportData = {
                date: new Date().toLocaleDateString('ar-EG'),
                products: productsData.map(p => ({
                    name: p.name,
                    code: p.code,
                    quantity: p.quantity,
                    unit: p.unit,
                    price: p.sellingPrice
                }))
            };
            
            alert(`ØªÙ… ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†\nØ¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${exportData.products.length}\nØ³ÙŠØªÙ… ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù Excel ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…`);
        }

        // Ø¨Ø¯Ø¡ Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        function startStockCount() {
            alert('Ø¨Ø¯Ø¡ Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†\n\nØ³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø¬Ø±Ø¯:\n1. Ø¥ØºÙ„Ø§Ù‚ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹ Ù…Ø¤Ù‚ØªØ§Ù‹\n2. Ø·Ø¨Ø§Ø¹Ø© ÙƒØ´ÙˆÙ Ø§Ù„Ø¬Ø±Ø¯\n3. Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„ÙØ¹Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù…\n\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ');
        }

        // Ø¹Ø±Ø¶ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        function showInventoryReport() {
            const reportData = {
                date: new Date().toLocaleDateString('ar-EG'),
                totalProducts: productsData.length,
                totalValue: productsData.reduce((sum, p) => sum + (p.quantity * p.purchasePrice), 0),
                lowStock: productsData.filter(p => p.badge === 'low').length,
                expiring: productsData.filter(p => p.badge === 'expiring').length,
                topProducts: productsData.sort((a, b) => b.sales - a.slices).slice(0, 5)
            };
            
            alert(`ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†:\n\n` +
                  `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${reportData.date}\n` +
                  `ğŸ“¦ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${reportData.totalProducts}\n` +
                  `ğŸ’° Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: ${reportData.totalValue.toLocaleString()} Ø¬\n` +
                  `âš ï¸  Ù…Ù†ØªØ¬Ø§Øª Ù‚Ù„ÙŠÙ„Ø©: ${reportData.lowStock}\n` +
                  `â° Ù…Ù†ØªØ¬Ø§Øª Ù…Ù†ØªÙ‡ÙŠØ©: ${reportData.expiring}\n\n` +
                  `Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…`);
        }
    </script>
</body>
</html>
