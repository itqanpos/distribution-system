/**
 * ูุธุงู ุฅุฏุงุฑุฉ ุงูููุฏูุจูู - ุดุฑูุฉ ุงูุชูุฒูุน ุงูุบุฐุงุฆู
 * ุงูุฅุตุฏุงุฑ: 1.0.0
 * ุงูุชุงุฑูุฎ: 2024-01-16
 * ุงููููุฒุงุช: ุฅุฏุงุฑุฉ 2+ ููุฏูุจุ ูุชุงุจุนุฉ ุงููุจูุนุงุชุ ุชุชุจุน ุงูุฑุญูุงุชุ ุชูุงุฑูุฑ ุงูุฃุฏุงุก
 */

class ูุธุงูุฅุฏุงุฑุฉุงูููุฏูุจูู {
    constructor() {
        this.ุงูููุฏูุจูู = [];
        this.ุงูุฑุญูุงุช = [];
        this.ุงูุฃูุฏุงู = [];
        this.ุงููุตุฑููุงุช = [];
        this.ุงูุนูููุงุช = [];
        this.ุชููุฆุฉุงูุจูุงูุงุช();
    }

    // ุชููุฆุฉ ุงูุจูุงูุงุช ุงูุฃูููุฉ
    ุชููุฆุฉุงูุจูุงูุงุช() {
        console.log('๐ ุชููุฆุฉ ูุธุงู ุฅุฏุงุฑุฉ ุงูููุฏูุจูู...');

        // ุจูุงูุงุช ุงูููุฏูุจูู ุงูุฃุณุงุณูุฉ (2 ููุฏูุจ)
        this.ุงูููุฏูุจูู = [
            {
                ุงูุฑูู: 1,
                ุงูุงุณู: "ุฃุญูุฏ ูุญููุฏ",
                ุงููุงุชู: "01011112222",
                ุงูุจุฑูุฏุงูุฅููุชุฑููู: "ahmed@company.com",
                ุงูุนููุงู: "ุงููุฏููุฉ - ุญู ุงูุณูุงู",
                ุชุงุฑูุฎุงูุชุนููู: "2023-01-15",
                ุงูุฑุงุชุจุงูุซุงุจุช: 3000,
                ููุนุงูุนูููุฉ: "ูุณุจุฉ ูู ุงููุจูุนุงุช",
                ูุณุจุฉุงูุนูููุฉ: 5, // 5%
                ุงูููุทูุฉ: "ุงูููุทูุฉ ุงูุดุฑููุฉ",
                ุงูุณูุงุฑุฉุงููุฎุตุตุฉ: "ุฃ ุจ ุฌ 1234",
                ุงูุญุงูุฉ: "ูุดุท",
                ุงูุฅุฌูุงููุงููุจูุนุงุช: 150000,
                ุงูุฅุฌูุงููุงูุชุญุตููุงุช: 120000,
                ุงูุนูููุฉุงููุณุชุญูุฉ: 7500,
                ุฒูุงุฑุงุชุงูููู: 0,
                ุงููุจูุนุงุชุงูููู: 0,
                ุงูุชุญุตููุงุชุงูููู: 0
            },
            {
                ุงูุฑูู: 2,
                ุงูุงุณู: "ุฎุงูุฏ ุนูุฑู",
                ุงููุงุชู: "01022223333",
                ุงูุจุฑูุฏุงูุฅููุชุฑููู: "khaled@company.com",
                ุงูุนููุงู: "ุงููุฏููุฉ - ุญู ุงูููุฑ",
                ุชุงุฑูุฎุงูุชุนููู: "2023-03-20",
                ุงูุฑุงุชุจุงูุซุงุจุช: 3000,
                ููุนุงูุนูููุฉ: "ูุณุจุฉ ูู ุงููุจูุนุงุช",
                ูุณุจุฉุงูุนูููุฉ: 5,
                ุงูููุทูุฉ: "ุงูููุทูุฉ ุงูุบุฑุจูุฉ",
                ุงูุณูุงุฑุฉุงููุฎุตุตุฉ: "ุฃ ุจ ุฌ 1234", // ููุณ ุงูุณูุงุฑุฉ ุจุงูุชูุงูุจ
                ุงูุญุงูุฉ: "ูุดุท",
                ุงูุฅุฌูุงููุงููุจูุนุงุช: 120000,
                ุงูุฅุฌูุงููุงูุชุญุตููุงุช: 100000,
                ุงูุนูููุฉุงููุณุชุญูุฉ: 6000,
                ุฒูุงุฑุงุชุงูููู: 0,
                ุงููุจูุนุงุชุงูููู: 0,
                ุงูุชุญุตููุงุชุงูููู: 0
            }
        ];

        // ุฃูุฏุงู ุงููุจูุนุงุช ุงูุดูุฑูุฉ
        this.ุงูุฃูุฏุงู = [
            {
                ุงูุฑูู: 1,
                ุฑููุงูููุฏูุจ: 1,
                ุงูุดูุฑ: "ููุงูุฑ 2024",
                ูุฏูุงููุจูุนุงุช: 50000,
                ูุฏูุงูุชุญุตูู: 45000,
                ุงููุจูุนุงุชุงููุนููุฉ: 45000,
                ุงูุชุญุตููุงููุนูู: 40000,
                ุงููุณุจุฉ: 90
            },
            {
                ุงูุฑูู: 2,
                ุฑููุงูููุฏูุจ: 2,
                ุงูุดูุฑ: "ููุงูุฑ 2024",
                ูุฏูุงููุจูุนุงุช: 45000,
                ูุฏูุงูุชุญุตูู: 40000,
                ุงููุจูุนุงุชุงููุนููุฉ: 42000,
                ุงูุชุญุตููุงููุนูู: 38000,
                ุงููุณุจุฉ: 93
            }
        ];

        // ุฑุญูุงุช ุงูููู
        this.ุงูุฑุญูุงุช = [
            {
                ุงูุฑูู: 1,
                ุฑููุงูููุฏูุจ: 1,
                ุงูุชุงุฑูุฎ: new Date().toISOString().split('T')[0],
                ููุชุงูุจุฏุก: "08:00",
                ููุชุงูููุงูุฉ: "14:00",
                ุนุฏุฏุงูุฒูุงุฑุงุช: 15,
                ุนุฏุฏุงูุนููุงุก: 12,
                ุงููุจูุนุงุชุงูุฅุฌูุงููุฉ: 8000,
                ุงูุชุญุตููุงูุฅุฌูุงูู: 6000,
                ุงููุณุงูุฉ: 45, // ูู
                ูุตุฑููุงููููุฏ: 150,
                ุงูุญุงูุฉ: "ููุชููุฉ"
            }
        ];

        console.log(`โ ุชู ุชููุฆุฉ ุจูุงูุงุช ${this.ุงูููุฏูุจูู.length} ููุฏูุจ`);
    }

    // 1. ุฅุถุงูุฉ ููุฏูุจ ุฌุฏูุฏ
    ุฅุถุงูุฉููุฏูุจ(ุจูุงูุงุชุงูููุฏูุจ) {
        const ููุฏูุจุฌุฏูุฏ = {
            ุงูุฑูู: this.ุงูููุฏูุจูู.length + 1,
            ุชุงุฑูุฎุงูุชุนููู: new Date().toISOString().split('T')[0],
            ุงูุญุงูุฉ: "ูุดุท",
            ุงูุฅุฌูุงููุงููุจูุนุงุช: 0,
            ุงูุฅุฌูุงููุงูุชุญุตููุงุช: 0,
            ุงูุนูููุฉุงููุณุชุญูุฉ: 0,
            ุฒูุงุฑุงุชุงูููู: 0,
            ุงููุจูุนุงุชุงูููู: 0,
            ุงูุชุญุตููุงุชุงูููู: 0,
            ...ุจูุงูุงุชุงูููุฏูุจ
        };

        this.ุงูููุฏูุจูู.push(ููุฏูุจุฌุฏูุฏ);
        
        // ุฅุถุงูุฉ ุฃูุฏุงู ููููุฏูุจ ุงูุฌุฏูุฏ
        this.ุฅุถุงูุฉุฃูุฏุงูููุฏูุจ(ููุฏูุจุฌุฏูุฏ.ุงูุฑูู);

        console.log(`โ ุชู ุฅุถุงูุฉ ุงูููุฏูุจ ${ููุฏูุจุฌุฏูุฏ.ุงูุงุณู} ุจูุฌุงุญ`);
        return ููุฏูุจุฌุฏูุฏ;
    }

    // 2. ุฅุถุงูุฉ ุฃูุฏุงู ููููุฏูุจ ุงูุฌุฏูุฏ
    ุฅุถุงูุฉุฃูุฏุงูููุฏูุจ(ุฑููุงูููุฏูุจ) {
        const ุชุงุฑูุฎ = new Date();
        const ุดูุฑ = ุชุงุฑูุฎ.toLocaleString('ar-EG', { month: 'long' });
        const ุณูุฉ = ุชุงุฑูุฎ.getFullYear();

        const ูุฏูุฌุฏูุฏ = {
            ุงูุฑูู: this.ุงูุฃูุฏุงู.length + 1,
            ุฑููุงูููุฏูุจ: ุฑููุงูููุฏูุจ,
            ุงูุดูุฑ: `${ุดูุฑ} ${ุณูุฉ}`,
            ูุฏูุงููุจูุนุงุช: 40000, // ูุฏู ุงูุชุฑุงุถู
            ูุฏูุงูุชุญุตูู: 35000,
            ุงููุจูุนุงุชุงููุนููุฉ: 0,
            ุงูุชุญุตููุงููุนูู: 0,
            ุงููุณุจุฉ: 0
        };

        this.ุงูุฃูุฏุงู.push(ูุฏูุฌุฏูุฏ);
        console.log(`๐ฏ ุชู ุฅุถุงูุฉ ุฃูุฏุงู ููููุฏูุจ ุฑูู ${ุฑููุงูููุฏูุจ}`);
    }

    // 3. ุชุณุฌูู ุฒูุงุฑุฉ
    ุชุณุฌููุฒูุงุฑุฉ(ุฑููุงูููุฏูุจ, ุจูุงูุงุชุงูุฒูุงุฑุฉ) {
        const ุงูุฒูุงุฑุฉ = {
            ุงูุฑูู: this.ุงูุฑุญูุงุช.length + 1,
            ุฑููุงูููุฏูุจ: ุฑููุงูููุฏูุจ,
            ุงูุชุงุฑูุฎ: new Date().toISOString().split('T')[0],
            ููุชุงูุจุฏุก: ุจูุงูุงุชุงูุฒูุงุฑุฉ.ููุชุงูุจุฏุก || new Date().toLocaleTimeString('ar-EG'),
            ...ุจูุงูุงุชุงูุฒูุงุฑุฉ
        };

        this.ุงูุฑุญูุงุช.push(ุงูุฒูุงุฑุฉ);
        
        // ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูููุฏูุจ
        this.ุชุญุฏูุซุฅุญุตุงุฆูุงุชุงูููุฏูุจ(ุฑููุงูููุฏูุจ, {
            ุฒูุงุฑุงุช: 1,
            ูุจูุนุงุช: ุจูุงูุงุชุงูุฒูุงุฑุฉ.ุงููุจูุนุงุช || 0,
            ุชุญุตููุงุช: ุจูุงูุงุชุงูุฒูุงุฑุฉ.ุงูุชุญุตูู || 0
        });

        console.log(`๐ ุชู ุชุณุฌูู ุฒูุงุฑุฉ ููููุฏูุจ ${ุฑููุงูููุฏูุจ}`);
        return ุงูุฒูุงุฑุฉ;
    }

    // 4. ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูููุฏูุจ
    ุชุญุฏูุซุฅุญุตุงุฆูุงุชุงูููุฏูุจ(ุฑููุงูููุฏูุจ, ุงูุจูุงูุงุช) {
        const ุงูููุฏูุจ = this.ุงูููุฏูุจูู.find(ู => ู.ุงูุฑูู === ุฑููุงูููุฏูุจ);
        
        if (ุงูููุฏูุจ) {
            if (ุงูุจูุงูุงุช.ุฒูุงุฑุงุช) {
                ุงูููุฏูุจ.ุฒูุงุฑุงุชุงูููู += ุงูุจูุงูุงุช.ุฒูุงุฑุงุช;
            }
            
            if (ุงูุจูุงูุงุช.ูุจูุนุงุช) {
                ุงูููุฏูุจ.ุงููุจูุนุงุชุงูููู += ุงูุจูุงูุงุช.ูุจูุนุงุช;
                ุงูููุฏูุจ.ุงูุฅุฌูุงููุงููุจูุนุงุช += ุงูุจูุงูุงุช.ูุจูุนุงุช;
                
                // ุญุณุงุจ ุงูุนูููุฉ
                const ุนูููุฉ = (ุงูุจูุงูุงุช.ูุจูุนุงุช * ุงูููุฏูุจ.ูุณุจุฉุงูุนูููุฉ) / 100;
                ุงูููุฏูุจ.ุงูุนูููุฉุงููุณุชุญูุฉ += ุนูููุฉ;
            }
            
            if (ุงูุจูุงูุงุช.ุชุญุตููุงุช) {
                ุงูููุฏูุจ.ุงูุชุญุตููุงุชุงูููู += ุงูุจูุงูุงุช.ุชุญุตููุงุช;
                ุงูููุฏูุจ.ุงูุฅุฌูุงููุงูุชุญุตููุงุช += ุงูุจูุงูุงุช.ุชุญุตููุงุช;
            }

            console.log(`๐ ุชู ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูููุฏูุจ ${ุงูููุฏูุจ.ุงูุงุณู}`);
        }
    }

    // 5. ุจุฏุก ุฑุญูุฉ ุฌุฏูุฏุฉ
    ุจุฏุกุฑุญูุฉ(ุฑููุงูููุฏูุจ) {
        const ุฑุญูุฉุฌุฏูุฏุฉ = {
            ุงูุฑูู: this.ุงูุฑุญูุงุช.length + 1,
            ุฑููุงูููุฏูุจ: ุฑููุงูููุฏูุจ,
            ุงูุชุงุฑูุฎ: new Date().toISOString().split('T')[0],
            ููุชุงูุจุฏุก: new Date().toLocaleTimeString('ar-EG'),
            ุนุฏุฏุงูุฒูุงุฑุงุช: 0,
            ุนุฏุฏุงูุนููุงุก: 0,
            ุงููุจูุนุงุชุงูุฅุฌูุงููุฉ: 0,
            ุงูุชุญุตููุงูุฅุฌูุงูู: 0,
            ุงููุณุงูุฉ: 0,
            ูุตุฑููุงููููุฏ: 0,
            ุงูุญุงูุฉ: "ููุฏ ุงูุชูููุฐ"
        };

        this.ุงูุฑุญูุงุช.push(ุฑุญูุฉุฌุฏูุฏุฉ);
        
        // ุชุญุฏูุซ ุญุงูุฉ ุงูููุฏูุจ
        const ุงูููุฏูุจ = this.ุงูููุฏูุจูู.find(ู => ู.ุงูุฑูู === ุฑููุงูููุฏูุจ);
        if (ุงูููุฏูุจ) {
            ุงูููุฏูุจ.ุงูุญุงูุฉ = "ูู ุงูุฑุญูุฉ";
        }

        console.log(`๐ ุจุฏุก ุฑุญูุฉ ุฌุฏูุฏุฉ ููููุฏูุจ ${ุฑููุงูููุฏูุจ}`);
        return ุฑุญูุฉุฌุฏูุฏุฉ;
    }

    // 6. ุฅููุงุก ุงูุฑุญูุฉ
    ุฅููุงุกุฑุญูุฉ(ุฑููุงูุฑุญูุฉ, ุจูุงูุงุชุงูููุงูุฉ) {
        const ุงูุฑุญูุฉ = this.ุงูุฑุญูุงุช.find(ุฑ => ุฑ.ุงูุฑูู === ุฑููุงูุฑุญูุฉ);
        
        if (ุงูุฑุญูุฉ) {
            ุงูุฑุญูุฉ.ููุชุงูููุงูุฉ = new Date().toLocaleTimeString('ar-EG');
            ุงูุฑุญูุฉ.ุงูุญุงูุฉ = "ููุชููุฉ";
            
            Object.assign(ุงูุฑุญูุฉ, ุจูุงูุงุชุงูููุงูุฉ);
            
            // ุชุญุฏูุซ ุญุงูุฉ ุงูููุฏูุจ
            const ุงูููุฏูุจ = this.ุงูููุฏูุจูู.find(ู => ู.ุงูุฑูู === ุงูุฑุญูุฉ.ุฑููุงูููุฏูุจ);
            if (ุงูููุฏูุจ) {
                ุงูููุฏูุจ.ุงูุญุงูุฉ = "ูุดุท";
                
                // ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูููุฏูุจ ูู ุงูุฑุญูุฉ
                this.ุชุญุฏูุซุฅุญุตุงุฆูุงุชุงูููุฏูุจ(ุงูููุฏูุจ.ุงูุฑูู, {
                    ุฒูุงุฑุงุช: ุงูุฑุญูุฉ.ุนุฏุฏุงูุฒูุงุฑุงุช,
                    ูุจูุนุงุช: ุงูุฑุญูุฉ.ุงููุจูุนุงุชุงูุฅุฌูุงููุฉ,
                    ุชุญุตููุงุช: ุงูุฑุญูุฉ.ุงูุชุญุตููุงูุฅุฌูุงูู
                });
            }

            console.log(`๐ ุชู ุฅููุงุก ุงูุฑุญูุฉ ${ุฑููุงูุฑุญูุฉ}`);
        }
    }

    // 7. ุชุณุฌูู ูุตุฑููุงุช
    ุชุณุฌูููุตุฑููุงุช(ุฑููุงูููุฏูุจ, ููุนุงููุตุฑูู, ุงููุจูุบ, ุงูุชูุงุตูู = "") {
        const ูุตุฑูู = {
            ุงูุฑูู: this.ุงููุตุฑููุงุช.length + 1,
            ุฑููุงูููุฏูุจ: ุฑููุงูููุฏูุจ,
            ุงูุชุงุฑูุฎ: new Date().toISOString().split('T')[0],
            ููุนุงููุตุฑูู: ููุนุงููุตุฑูู,
            ุงููุจูุบ: ุงููุจูุบ,
            ุงูุชูุงุตูู: ุงูุชูุงุตูู,
            ุงูุญุงูุฉ: "ุบูุฑ ูุนุชูุฏ"
        };

        this.ุงููุตุฑููุงุช.push(ูุตุฑูู);
        console.log(`๐ฐ ุชู ุชุณุฌูู ูุตุฑูู ${ููุนุงููุตุฑูู} ุจูููุฉ ${ุงููุจูุบ} ููููุฏูุจ ${ุฑููุงูููุฏูุจ}`);
        return ูุตุฑูู;
    }

    // 8. ุญุณุงุจ ุงูุนูููุงุช
    ุญุณุงุจุงูุนูููุงุช(ุฑููุงูููุฏูุจ, ูุชุฑุฉ = "ุดูุฑู") {
        const ุงูููุฏูุจ = this.ุงูููุฏูุจูู.find(ู => ู.ุงูุฑูู === ุฑููุงูููุฏูุจ);
        
        if (!ุงูููุฏูุจ) return 0;

        let ุฅุฌูุงููุงููุจูุนุงุช = 0;
        
        if (ูุชุฑุฉ === "ูููู") {
            ุฅุฌูุงููุงููุจูุนุงุช = ุงูููุฏูุจ.ุงููุจูุนุงุชุงูููู;
        } else if (ูุชุฑุฉ === "ุฃุณุจูุนู") {
            // ุญุณุงุจ ูุจูุนุงุช ุงูุฃุณุจูุน (ูุจุณุท)
            ุฅุฌูุงููุงููุจูุนุงุช = ุงูููุฏูุจ.ุงูุฅุฌูุงููุงููุจูุนุงุช * 0.25; // ุชูุฑูุจ
        } else { // ุดูุฑู
            ุฅุฌูุงููุงููุจูุนุงุช = ุงูููุฏูุจ.ุงูุฅุฌูุงููุงููุจูุนุงุช;
        }

        const ุงูุนูููุฉ = (ุฅุฌูุงููุงููุจูุนุงุช * ุงูููุฏูุจ.ูุณุจุฉุงูุนูููุฉ) / 100;
        
        return {
            ุฅุฌูุงููุงููุจูุนุงุช: ุฅุฌูุงููุงููุจูุนุงุช,
            ูุณุจุฉุงูุนูููุฉ: ุงูููุฏูุจ.ูุณุจุฉุงูุนูููุฉ,
            ูููุฉุงูุนูููุฉ: ุงูุนูููุฉ,
            ุงูุฑุงุชุจุงูุซุงุจุช: ุงูููุฏูุจ.ุงูุฑุงุชุจุงูุซุงุจุช,
            ุงูุฅุฌูุงูู: ุงูููุฏูุจ.ุงูุฑุงุชุจุงูุซุงุจุช + ุงูุนูููุฉ
        };
    }

    // 9. ุชูุฑูุฑ ุฃุฏุงุก ุงูููุฏูุจูู
    ุชูุฑูุฑุฃุฏุงุกุงูููุฏูุจูู(ูุชุฑุฉ = "ุงูููู") {
        const ุงูุชูุฑูุฑ = this.ุงูููุฏูุจูู.map(ููุฏูุจ => {
            const ุนูููุฉ = this.ุญุณุงุจุงูุนูููุงุช(ููุฏูุจ.ุงูุฑูู, ูุชุฑุฉ);
            
            return {
                ุงูุฑูู: ููุฏูุจ.ุงูุฑูู,
                ุงูุงุณู: ููุฏูุจ.ุงูุงุณู,
                ุงูููุทูุฉ: ููุฏูุจ.ุงูููุทูุฉ,
                ุงูุญุงูุฉ: ููุฏูุจ.ุงูุญุงูุฉ,
                ุงููุจูุนุงุช: ูุชุฑุฉ === "ุงูููู" ? ููุฏูุจ.ุงููุจูุนุงุชุงูููู : ููุฏูุจ.ุงูุฅุฌูุงููุงููุจูุนุงุช,
                ุงูุชุญุตููุงุช: ูุชุฑุฉ === "ุงูููู" ? ููุฏูุจ.ุงูุชุญุตููุงุชุงูููู : ููุฏูุจ.ุงูุฅุฌูุงููุงูุชุญุตููุงุช,
                ุงูุฒูุงุฑุงุช: ููุฏูุจ.ุฒูุงุฑุงุชุงูููู,
                ุงูุนูููุฉ: ุนูููุฉ.ูููุฉุงูุนูููุฉ,
                ุงูุฅุฌูุงูู: ุนูููุฉ.ุงูุฅุฌูุงูู,
                ูุณุจุฉุงูุฅูุฌุงุฒ: this.ุญุณุงุจูุณุจุฉุงูุฅูุฌุงุฒ(ููุฏูุจ.ุงูุฑูู, ูุชุฑุฉ)
            };
        });

        // ุชุฑุชูุจ ุญุณุจ ุงููุจูุนุงุช (ุชูุงุฒูู)
        return ุงูุชูุฑูุฑ.sort((ุฃ, ุจ) => ุจ.ุงููุจูุนุงุช - ุฃ.ุงููุจูุนุงุช);
    }

    // 10. ุญุณุงุจ ูุณุจุฉ ุงูุฅูุฌุงุฒ
    ุญุณุงุจูุณุจุฉุงูุฅูุฌุงุฒ(ุฑููุงูููุฏูุจ, ูุชุฑุฉ) {
        const ุงูููุฏูุจ = this.ุงูููุฏูุจูู.find(ู => ู.ุงูุฑูู === ุฑููุงูููุฏูุจ);
        const ุงููุฏู = this.ุงูุฃูุฏุงู.find(ู => ู.ุฑููุงูููุฏูุจ === ุฑููุงูููุฏูุจ);
        
        if (!ุงููุฏู) return 0;

        let ุงููุจูุนุงุชุงููุนููุฉ = 0;
        
        if (ูุชุฑุฉ === "ุงูููู") {
            ุงููุจูุนุงุชุงููุนููุฉ = ุงูููุฏูุจ.ุงููุจูุนุงุชุงูููู;
            // ุงูุชุฑุถ ุฃู ุงููุฏู ุงููููู = ุงููุฏู ุงูุดูุฑู / 26 ููู ุนูู
            const ูุฏููููู = ุงููุฏู.ูุฏูุงููุจูุนุงุช / 26;
            return ูุฏููููู > 0 ? (ุงููุจูุนุงุชุงููุนููุฉ / ูุฏููููู) * 100 : 0;
        } else {
            ุงููุจูุนุงุชุงููุนููุฉ = ุงูููุฏูุจ.ุงูุฅุฌูุงููุงููุจูุนุงุช;
            return ุงููุฏู.ูุฏูุงููุจูุนุงุช > 0 ? (ุงููุจูุนุงุชุงููุนููุฉ / ุงููุฏู.ูุฏูุงููุจูุนุงุช) * 100 : 0;
        }
    }

    // 11. ุฌุฏููุฉ ุฒูุงุฑุงุช ุงูููุฏูุจ
    ุฌุฏููุฉุฒูุงุฑุงุช(ุฑููุงูููุฏูุจ, ูุงุฆูุฉุงูุนููุงุก) {
        const ุงูุฌุฏูู = {
            ุฑููุงูููุฏูุจ: ุฑููุงูููุฏูุจ,
            ุงูุชุงุฑูุฎ: new Date().toISOString().split('T')[0],
            ุงูุนููุงุก: ูุงุฆูุฉุงูุนููุงุก,
            ุนุฏุฏุงูุนููุงุก: ูุงุฆูุฉุงูุนููุงุก.length,
            ุญุงูุฉุงูุฌุฏูู: "ูุฌุฏูู"
        };

        console.log(`๐ ุชู ุฌุฏููุฉ ${ูุงุฆูุฉุงูุนููุงุก.length} ุฒูุงุฑุฉ ููููุฏูุจ ${ุฑููุงูููุฏูุจ}`);
        return ุงูุฌุฏูู;
    }

    // 12. ุฅุนุงุฏุฉ ุชุนููู ุฅุญุตุงุฆูุงุช ุงูููู
    ุฅุนุงุฏุฉุชุนูููุงูููู() {
        this.ุงูููุฏูุจูู.forEach(ููุฏูุจ => {
            ููุฏูุจ.ุฒูุงุฑุงุชุงูููู = 0;
            ููุฏูุจ.ุงููุจูุนุงุชุงูููู = 0;
            ููุฏูุจ.ุงูุชุญุตููุงุชุงูููู = 0;
        });

        console.log('๐ ุชู ุฅุนุงุฏุฉ ุชุนููู ุฅุญุตุงุฆูุงุช ุงูููู ูุฌููุน ุงูููุฏูุจูู');
    }

    // 13. ุชุตุฏูุฑ ุชูุฑูุฑ ุงูููุฏูุจูู
    ุชุตุฏูุฑุชูุฑูุฑุงูููุฏูุจูู() {
        const ุงูุชูุฑูุฑ = {
            ุงูุชุงุฑูุฎ: new Date().toLocaleString('ar-EG'),
            ุฅุฌูุงููุงูููุฏูุจูู: this.ุงูููุฏูุจูู.length,
            ุงูููุฏูุจููุงููุดุทูู: this.ุงูููุฏูุจูู.filter(ู => ู.ุงูุญุงูุฉ === "ูุดุท").length,
            ุงูููุฏูุจููููุงูุฑุญูุฉ: this.ุงูููุฏูุจูู.filter(ู => ู.ุงูุญุงูุฉ === "ูู ุงูุฑุญูุฉ").length,
            ุฃุฏุงุกุงูููุฏูุจูู: this.ุชูุฑูุฑุฃุฏุงุกุงูููุฏูุจูู("ุดูุฑู"),
            ุงูุฑุญูุงุชุงูููู: this.ุงูุฑุญูุงุช.filter(ุฑ => ุฑ.ุงูุชุงุฑูุฎ === new Date().toISOString().split('T')[0]),
            ุงููุตุฑููุงุชุงููุนููุฉ: this.ุงููุตุฑููุงุช.filter(ู => ู.ุงูุญุงูุฉ === "ุบูุฑ ูุนุชูุฏ")
        };

        return JSON.stringify(ุงูุชูุฑูุฑ, null, 2);
    }

    // 14. ุงุฎุชุจุงุฑ ุงููุธุงู
    ุงุฎุชุจุงุฑุงููุธุงู() {
        console.log('๐งช ุจุฏุก ุงุฎุชุจุงุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงูููุฏูุจูู...\n');

        // 1. ุนุฑุถ ุงูููุฏูุจูู
        console.log('๐ฅ ูุงุฆูุฉ ุงูููุฏูุจูู:');
        this.ุงูููุฏูุจูู.forEach(ููุฏูุจ => {
            console.log(`   ${ููุฏูุจ.ุงูุฑูู}. ${ููุฏูุจ.ุงูุงุณู} - ${ููุฏูุจ.ุงูููุทูุฉ} - ${ููุฏูุจ.ุงูุญุงูุฉ}`);
        });

        console.log('\n---\n');

        // 2. ุจุฏุก ุฑุญูุฉ ุฌุฏูุฏุฉ
        console.log('๐ ุงุฎุชุจุงุฑ ุจุฏุก ุฑุญูุฉ ุฌุฏูุฏุฉ:');
        const ุฑุญูุฉ = this.ุจุฏุกุฑุญูุฉ(1);
        console.log(`   ุจุฏุฃุช ุงูุฑุญูุฉ ุฑูู ${ุฑุญูุฉ.ุงูุฑูู} ููููุฏูุจ 1`);

        console.log('\n---\n');

        // 3. ุชุณุฌูู ุฒูุงุฑุฉ
        console.log('๐ ุงุฎุชุจุงุฑ ุชุณุฌูู ุฒูุงุฑุฉ:');
        const ุฒูุงุฑุฉ = this.ุชุณุฌููุฒูุงุฑุฉ(1, {
            ุงูุนููู: "ุณูุจุฑูุงุฑูุช ุงูููุฑ",
            ุงููุจูุนุงุช: 5000,
            ุงูุชุญุตูู: 3000,
            ุงูููุงุญุธุงุช: "ุทูุจ ููุชุฌุงุช ุฌุฏูุฏุฉ"
        });
        console.log(`   ุชูุช ุฒูุงุฑุฉ ${ุฒูุงุฑุฉ.ุงูุนููู} - ุงููุจูุนุงุช: ${ุฒูุงุฑุฉ.ุงููุจูุนุงุช}`);

        console.log('\n---\n');

        // 4. ุฅููุงุก ุงูุฑุญูุฉ
        console.log('๐ ุงุฎุชุจุงุฑ ุฅููุงุก ุงูุฑุญูุฉ:');
        this.ุฅููุงุกุฑุญูุฉ(ุฑุญูุฉ.ุงูุฑูู, {
            ุนุฏุฏุงูุฒูุงุฑุงุช: 10,
            ุนุฏุฏุงูุนููุงุก: 8,
            ุงููุจูุนุงุชุงูุฅุฌูุงููุฉ: 15000,
            ุงูุชุญุตููุงูุฅุฌูุงูู: 10000,
            ุงููุณุงูุฉ: 60,
            ูุตุฑููุงููููุฏ: 200
        });
        console.log('   ุชู ุฅููุงุก ุงูุฑุญูุฉ ุจูุฌุงุญ');

        console.log('\n---\n');

        // 5. ุชูุฑูุฑ ุงูุฃุฏุงุก
        console.log('๐ ุชูุฑูุฑ ุฃุฏุงุก ุงูููุฏูุจูู ุงูููู:');
        const ุงูุชูุฑูุฑ = this.ุชูุฑูุฑุฃุฏุงุกุงูููุฏูุจูู("ุงูููู");
        ุงูุชูุฑูุฑ.forEach(ููุฏูุจ => {
            console.log(`   ${ููุฏูุจ.ุงูุงุณู}: ูุจูุนุงุช ${ููุฏูุจ.ุงููุจูุนุงุช} - ุชุญุตูู ${ููุฏูุจ.ุงูุชุญุตููุงุช} - ุนูููุฉ ${ููุฏูุจ.ุงูุนูููุฉ}`);
        });

        console.log('\n---\n');

        // 6. ุฅุถุงูุฉ ููุฏูุจ ุฌุฏูุฏ
        console.log('โ ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ููุฏูุจ ุฌุฏูุฏ:');
        const ููุฏูุจุฌุฏูุฏ = this.ุฅุถุงูุฉููุฏูุจ({
            ุงูุงุณู: "ูุญููุฏ ุณุนูุฏ",
            ุงููุงุชู: "01033334444",
            ุงูููุทูุฉ: "ุงูููุทูุฉ ุงูุฌููุจูุฉ",
            ุงูุฑุงุชุจุงูุซุงุจุช: 3000,
            ูุณุจุฉุงูุนูููุฉ: 5
        });
        console.log(`   ุชู ุฅุถุงูุฉ ุงูููุฏูุจ ${ููุฏูุจุฌุฏูุฏ.ุงูุงุณู}`);

        console.log('\n---\n');

        // 7. ุชุตุฏูุฑ ุงูุชูุฑูุฑ
        console.log('๐ ุชุตุฏูุฑ ุงูุชูุฑูุฑ ุงููุงูู:');
        const ุงูุชูุฑูุฑุงููุงูู = this.ุชุตุฏูุฑุชูุฑูุฑุงูููุฏูุจูู();
        console.log(ุงูุชูุฑูุฑุงููุงูู);

        console.log('\nโ ุชู ุงูุงูุชูุงุก ูู ุงุฎุชุจุงุฑ ูุธุงู ุงูููุฏูุจูู ุจูุฌุงุญ!');
        return true;
    }
}

// ุชุตุฏูุฑ ุงููุธุงู ููุงุณุชุฎุฏุงู
if (typeof module !== 'undefined' && module.exports) {
    module.exports = ูุธุงูุฅุฏุงุฑุฉุงูููุฏูุจูู;
}

// ุฅุฐุง ูุงู ุงูุชุญููู ูู ุงููุชุตูุญ
if (typeof window !== 'undefined') {
    window.ูุธุงูุฅุฏุงุฑุฉุงูููุฏูุจูู = ูุธุงูุฅุฏุงุฑุฉุงูููุฏูุจูู;
}

// ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุชููุงุฆู ุฅุฐุง ูุงู ุงูููู ุงูุฑุฆูุณู
if (require.main === module) {
    const ุงููุธุงู = new ูุธุงูุฅุฏุงุฑุฉุงูููุฏูุจูู();
    ุงููุธุงู.ุงุฎุชุจุงุฑุงููุธุงู();
}
